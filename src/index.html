<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <script>window.$=document.querySelectorAll.bind(document),Node.prototype.on=window.on=function(o,t){this.addEventListener(o,t)},NodeList.prototype.__proto__=Array.prototype,NodeList.prototype.on=NodeList.prototype.addEventListener=function(o,t){this.forEach(function(e,n){e.on(o,t)})};</script>
</head>

<body>
   <div class="bar header">
        <div id="lvl">Level 1</div>
        <ul id="lf"><li></li><li></li><li></li></ul>
    </div>     
    <canvas class="content"></canvas>
    <div class="bar footer"><div id="state"></div></div>
 
    <div id="backdrop"></div>
    <dialog id="new-dialog">
        
            <svg width="155.73" height="143.49" viewBox="0 0 155.73 143.49" xmlns="http://www.w3.org/2000/svg">
                <path transform="matrix(.82334 .18301 -.18863 .79881 14.875 -28.777)" d="m184.45 81.554-24.934 82.496-83.911 19.655-58.977-62.841 24.934-82.496 83.911-19.655z" fill="#91b247" stroke="#fff" stroke-width="7.4537"/>
                <g transform="matrix(.40233 -.38534 .39518 .38673 19.46 71.609)">
                 <rect x="60.003" y="3.4984" width="38.754" height=".80181" ry=".4009" fill="#333" stroke-width=".076138"/>
                 <rect x="35.157" y="104.67" width="88.446" height="23.85" rx="13.957" ry="9.145" fill="#e0e0e8" stroke-width=".13616"/>
                 <rect x="1.5173" y="39.958" width="155.73" height="37.42" rx="41.211" ry="14.348" fill="#e0e0e8" stroke-width=".22631"/>
                 <rect x="72.826" y=".81089" width="13.109" height="16.823" rx="6.5546" ry="6.7001" fill="#e6e6e6" stroke-width=".043295"/>
                 <rect x="60.239" y="7.4752" width="38.284" height="136.83" rx="12.733" ry="54.493" fill="#e0e0e8" stroke-width=".211"/>
                 <path d="m36.89 68.423-7.9166-4.0098-7.7913 4.2483 1.3672-8.7683-6.448-6.0971 8.7616-1.4093 3.8062-8.0165 4.0478 7.8973 8.8004 1.1426-6.2599 6.2901z" fill="#c75c5c" stroke-width=".26458"/>
                 <path d="m141.93 67.888-7.9166-4.0098-7.7912 4.2483 1.3672-8.7683-6.448-6.0971 8.7616-1.4093 3.8062-8.0165 4.0478 7.8973 8.8004 1.1426-6.2599 6.2901z" fill="#c75c5c" stroke-width=".26458"/>
                 <ellipse cx="80.182" cy="70.561" rx="11.893" ry="28.619" fill="#77b3d4" stroke-width=".33999"/>
                </g>
               </svg>

        <h1>Flight Back Home</h1>
        <p class="pb">Watch the outbound flight and plot the journey back along exactly the same path to get home safely.</p>
        <button class="new-game">Story Mode</button>
        <button class="options">Free Play</button>
    </dialog>
    <dialog id="lvl-dialog">
        <span></span>
        <button>Continue</button>
    </dialog>
    <dialog id="over-dialog">
        <span></span>
        <button class="reset">Try Again</button>
    </dialog>
    <dialog id="options-dialog">
            
        <h1>Free Play</h1>
        <p>In this mode you can select the level to play and how many lives.</p>
           
        <table>
            <tr>
                <td>Level</td>
                <td><select id="opt-level">
                    <option>1</option>
                    <option>2</option>
                    <option>10</option>
                    <option>50</option>
                </select></td>
            </tr>
            <tr>
                <td>Lifes</td>
                <td><select id="opt-lifes"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></td>
            </tr>
        </table>

        <button class="reset">Back</button>
        <button class="free-game">Play</button>
    </dialog>
     
<script type="tx" id="lvl-tmp">
    <h1>Level {{level}} Pilot</h1>
    {{message}}
    <table>
        <tr>
            <td colspan=2><h2>Flight Plan</h2></td>
        </tr>
        <tr>
            <td>Distance</td>
            <td>{{distance}} sectors</td>
        </tr>
        <tr>
            <td>Speed</td>
            <td>{{speed}} mph</td>
        </tr>
    </table>
</script>

<script type="tx" id="story-over-tmp">
    <h1>Game Over</h1>
    <p class="pb">Congratulations on reaching level {{level}} however you have run out of planes!</p>
    <a class="button" target="_" href="http://www.twitter.com/share?text=I reached pilot level {{level}} on 'Flight Back Home' a JS13K game entry by @johnkilmister. Try it out yourself at {{url}} #js13k #flightbackhome">Tweet Score</a>
</script>

<script type="tx" id="free-over-tmp">
        <h1>Game Over</h1>
        <p class="pb">Congratulations on {{flights}} flights at level {{level}} however you have run out of planes!</p>
        <a class="button" target="_" href="http://www.twitter.com/share?text=I reached {{flights}} flights at level {{level}} on 'Flight Back Home' a JS13K game entry by @johnkilmister. Try it out yourself at {{url}} #js13k #flightbackhome">Tweet Score</a>
</script>

</body>
</html>
